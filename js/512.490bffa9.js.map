{"version":3,"file":"js/512.490bffa9.js","mappings":"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","sources":["webpack://vue-template/./src/views/UploadView.vue","webpack://vue-template/./src/views/UploadView.vue?6d82"],"sourcesContent":["<template>\r\n  <div class=\"mb-2\">\r\n    <h2>圖片上傳</h2>\r\n    <input type=\"file\" @change=\"getFileInfo\">\r\n  </div>\r\n  <ul class=\"ps-0\">\r\n    <li>元件匯入，未使用表單驗證</li>\r\n    <li>自行寫 JS 驗證：檔案 30MB、檔案型別</li>\r\n  </ul>\r\n  <ul class=\"border\" v-if=\"status > 0\">\r\n    <li>上傳狀態：<span class=\"rounded-circle me-2 px-3 py-1\"\r\n      :class=\"`bg-${status===1? 'success': 'danger'}`\"></span>\r\n      <i v-if=\"status===uploadStatus.failSize\" class=\"text-danger\">*檔案超過限制的 \"30MB\"，檔案大小為 \"{{ fileSizeMB }} MB\"</i>\r\n      <i v-if=\"status===uploadStatus.failFormat\" class=\"text-danger\">*檔案格式不正確，您上傳的是 \"{{ fileType }}\"</i>\r\n    </li>\r\n    <li v-if=\"status===1\">上傳日期：{{ uploadDate }}</li>\r\n    <li>檔案名稱：{{ fileName }}</li>\r\n    <li class=\"mb-3\">檔案大小：{{ fileSizeMB }} MB</li>\r\n  </ul>\r\n  <img :src=\"fileImgUrl\" alt=\"預覽圖片\" width=\"300\" v-if=\"status===1\">\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      status: 0,\r\n      uploadStatus: {\r\n        null: 0,\r\n        success: 1,\r\n        failFormat: 3,\r\n        failSize: 4\r\n      },\r\n      isSuccess: false,\r\n      uploadDate: '',\r\n      fileName: '',\r\n      fileType: '',\r\n      fileTypeIsOk: '',\r\n      fileSize: '',\r\n      fileSizeMB: '',\r\n      fileSizeIsOk: '',\r\n      fileImgUrl: ''\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    getFileInfo (e) {\r\n      const imgType = ['jpg', 'png', 'svg', 'jpeg', 'gif']\r\n      const file = e.target.files[0]\r\n\r\n      //* 上傳的副檔名\r\n      const lastValLen = file.name.split('.').length\r\n      this.fileType = file.name.split('.')[lastValLen - 1]\r\n\r\n      //* 若上傳資料夾，會無法顯示錯誤上傳的副檔名\r\n      const isFolder = file.type === ''\r\n      if (isFolder && lastValLen === 1) this.fileType = '文件夾'\r\n\r\n      this.fileImgUrl = URL.createObjectURL(file)\r\n      this.fileTypeIsOk = imgType.includes(this.fileType)\r\n      this.fileSize = file.size\r\n      this.fileSizeMB = (this.fileSize / 1024 / 1024).toFixed(2)\r\n      this.fileName = file.name\r\n      this.fileSizeIsOk = this.fileSize < 31457280\r\n      this.checkFile()\r\n    },\r\n    checkFile () {\r\n      if (!this.fileTypeIsOk) {\r\n        this.uploadFail(this.uploadStatus.failFormat)\r\n      } else if (!this.fileSizeIsOk) {\r\n        this.uploadFail(this.uploadStatus.failSize)\r\n      } else {\r\n        this.uploadDate = new Date().getTime()\r\n        this.status = 1\r\n      }\r\n    },\r\n    uploadFail (failType) {\r\n      this.status = failType\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n","import { render } from \"./UploadView.vue?vue&type=template&id=54f00d7c\"\nimport script from \"./UploadView.vue?vue&type=script&lang=js\"\nexport * from \"./UploadView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Mizu\\\\Desktop\\\\small-scale-practice\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_2","type","onChange","$options","_hoisted_3","$data","_createElementBlock","failSize","_toDisplayString","failFormat","_hoisted_8","src","alt","width","data","status","uploadStatus","null","success","isSuccess","uploadDate","fileName","fileType","fileTypeIsOk","fileSize","fileSizeMB","fileSizeIsOk","fileImgUrl","methods","getFileInfo","e","imgType","file","target","files","lastValLen","name","split","length","this","isFolder","URL","createObjectURL","includes","size","toFixed","checkFile","Date","getTime","uploadFail","failType","__exports__","render"],"sourceRoot":""}