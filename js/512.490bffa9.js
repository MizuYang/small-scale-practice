"use strict";(self["webpackChunkvue_template"]=self["webpackChunkvue_template"]||[]).push([[512],{6512:function(e,i,l){l.r(i),l.d(i,{default:function(){return z}});var t=l(3396),s=l(7139);const a={class:"mb-2"},u=(0,t._)("h2",null,"圖片上傳",-1),n=(0,t._)("ul",{class:"ps-0"},[(0,t._)("li",null,"元件匯入，未使用表單驗證"),(0,t._)("li",null,"自行寫 JS 驗證：檔案 30MB、檔案型別")],-1),f={key:0,class:"border"},p=(0,t.Uk)("上傳狀態："),c={key:0,class:"text-danger"},h={key:1,class:"text-danger"},r={key:0},o={class:"mb-3"},d=["src"];function g(e,i,l,g,k,S){return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",a,[u,(0,t._)("input",{type:"file",onChange:i[0]||(i[0]=(...e)=>S.getFileInfo&&S.getFileInfo(...e))},null,32)]),n,k.status>0?((0,t.wg)(),(0,t.iD)("ul",f,[(0,t._)("li",null,[p,(0,t._)("span",{class:(0,s.C_)(["rounded-circle me-2 px-3 py-1","bg-"+(1===k.status?"success":"danger")])},null,2),k.status===k.uploadStatus.failSize?((0,t.wg)(),(0,t.iD)("i",c,'*檔案超過限制的 "30MB"，檔案大小為 "'+(0,s.zw)(k.fileSizeMB)+' MB"',1)):(0,t.kq)("",!0),k.status===k.uploadStatus.failFormat?((0,t.wg)(),(0,t.iD)("i",h,'*檔案格式不正確，您上傳的是 "'+(0,s.zw)(k.fileType)+'"',1)):(0,t.kq)("",!0)]),1===k.status?((0,t.wg)(),(0,t.iD)("li",r,"上傳日期："+(0,s.zw)(k.uploadDate),1)):(0,t.kq)("",!0),(0,t._)("li",null,"檔案名稱："+(0,s.zw)(k.fileName),1),(0,t._)("li",o,"檔案大小："+(0,s.zw)(k.fileSizeMB)+" MB",1)])):(0,t.kq)("",!0),1===k.status?((0,t.wg)(),(0,t.iD)("img",{key:1,src:k.fileImgUrl,alt:"預覽圖片",width:"300"},null,8,d)):(0,t.kq)("",!0)],64)}l(6699);var k={data(){return{status:0,uploadStatus:{null:0,success:1,failFormat:3,failSize:4},isSuccess:!1,uploadDate:"",fileName:"",fileType:"",fileTypeIsOk:"",fileSize:"",fileSizeMB:"",fileSizeIsOk:"",fileImgUrl:""}},methods:{getFileInfo(e){const i=["jpg","png","svg","jpeg","gif"],l=e.target.files[0],t=l.name.split(".").length;this.fileType=l.name.split(".")[t-1];const s=""===l.type;s&&1===t&&(this.fileType="文件夾"),this.fileImgUrl=URL.createObjectURL(l),this.fileTypeIsOk=i.includes(this.fileType),this.fileSize=l.size,this.fileSizeMB=(this.fileSize/1024/1024).toFixed(2),this.fileName=l.name,this.fileSizeIsOk=this.fileSize<31457280,this.checkFile()},checkFile(){this.fileTypeIsOk?this.fileSizeIsOk?(this.uploadDate=(new Date).getTime(),this.status=1):this.uploadFail(this.uploadStatus.failSize):this.uploadFail(this.uploadStatus.failFormat)},uploadFail(e){this.status=e}}},S=l(89);const m=(0,S.Z)(k,[["render",g]]);var z=m}}]);
//# sourceMappingURL=512.490bffa9.js.map